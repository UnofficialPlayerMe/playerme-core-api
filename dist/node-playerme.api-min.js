var PlayerMe=PlayerMe||{};PlayerMe.API=function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}var o=("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},n(1)),u=i(o),s=n(9),a=(i(s),n(4)),l=r(a),c=process.env;if("development"===c.NODE_ENV){try{var f=function(){return console.info("Running ",process.mainModule.filename)};f(),console.info("")}catch(d){console.error("ERROR: Startup test failed."),console.error(d),process.exit(1)}}var h=c.PLAYER_USERNAME,y=c.PLAYER_PASSWORD,p=c.PLAYER_BASE_URL;if(p&&(u.APIService.baseUrl=p),h&&y)try{u.AuthService.login(h,y).then(function(e){console.log("Login response",{success:e.success,method:e.method,uri:e.uri,statusCode:e.statusCode,statusMessage:e.statusMessage,headers:e.headers,result:e.result}),console.log(""),console.log("Get feed..."),l["default"].get("api/v1/feed").then(function(e){return console.log("Success",e)},function(e){return console.log("Failure",e)})},function(e){return console.error("Login error",e)})}catch(d){console.error(d)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){"undefined"==typeof e&&("undefined"!=typeof alert?alert(t):console.error(t))}Object.defineProperty(t,"__esModule",{value:!0}),t.UsersRepository=t.AuthService=t.APIService=t.settings=t.adapters=void 0;var o=n(2),u=r(o),s=n(3),a=r(s),l=n(20),c=r(l),f=n(4),d=r(f);i(Promise,"'Promise' isn't available on this platform and needs a polyfill.");var h={};"undefined"!=typeof window?(h.JSONPRequestAdapter=n(22)["default"],h.XMLHttpRequestAdapter=n(24)["default"],d["default"].setAdapter(h.JSONPRequestAdapter)):(h.NodeRequestAdapter=n(27)["default"],d["default"].setAdapter(h.NodeRequestAdapter)),t.adapters=h,t.settings=u["default"],t.APIService=d["default"],t.AuthService=a["default"],t.UsersRepository=c["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={};t["default"]=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(4),a=r(s),l=n(6),c=r(l),f=function(){function e(){i(this,e)}return u(e,[{key:"login",value:function(e,t){var n=arguments.length<=2||void 0===arguments[2]?!1:arguments[2];if(!e)throw new ReferenceError("No user login passed to AuthService:login().");if("string"!=typeof e)throw new TypeError("Login passed to UsersRepository:get() isn't a string. Was ["+("undefined"==typeof e?"undefined":o(e))+"].");if(!t)throw new ReferenceError("No password passed to AuthService:login().");if("string"!=typeof t)throw new TypeError("Password passed to UsersRepository:get() isn't a string. Was ["+("undefined"==typeof t?"undefined":o(t))+"].");return new Promise(function(r,i){try{var o=a["default"].post("api/v1/auth/login",{login:e,password:t,remember:n})}catch(u){return void i(u)}o.then(function(e){r(new c["default"](e))})})}}]),e}();t["default"]=new f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){var n;if(!t)throw n="No URL passed to APIService:"+e+".",console.error(n),new ReferenceError(n);if("string"!=typeof t)throw n="Invalid URL passed to APIService:"+e+". Was ["+("undefined"==typeof t?"undefined":l(t))+"].",console.error(n),new ReferenceError(n)}function a(e,t,n){var r;if((n||t)&&"object"!=("undefined"==typeof t?"undefined":l(t)))throw r="Invalid data passed to APIService:"+e+". Was ["+("undefined"==typeof t?"undefined":l(t))+"].",console.error(r),new ReferenceError(r)}Object.defineProperty(t,"__esModule",{value:!0});var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(5),d=r(f),h=function(e){function t(){i(this,t);var e=o(this,Object.getPrototypeOf(t).call(this));return e._baseUrl="",e._adapter=null,e.baseUrl="https://player.me/",e}return u(t,e),c(t,[{key:"_request",value:function(e,t,n){var r=!1;switch(e){case"get":r=!1;break;case"post":r=!0;break;case"put":r=!0;break;case"del":r=!1;break;default:throw new Error("Unhandled method ["+e+"] passed to APIService._request().")}s(e,t),a(e,n,r);var i=this.getAdapter(!0);return t=this.prependBaseUrl(t),i[e](t,n)}},{key:"get",value:function(e,t){return this._request("get",e,t)}},{key:"post",value:function(e,t){return this._request("post",e,t)}},{key:"put",value:function(e,t){return this._request("put",e,t)}},{key:"del",value:function(e,t){return this._request("del",e,t)}},{key:"prependBaseUrl",value:function(e){if(-1==e.indexOf("://")){var t=this._baseUrl;"/"===t.charAt(t.length-1)&&(t=t.substring(0,t.length-1)),"/"===e.charAt(0)&&(e=e.substring(1)),e=t+"/"+e}return e}},{key:"getAdapter",value:function(){var e=arguments.length<=0||void 0===arguments[0]?!1:arguments[0];if(!this._adapter)throw new ReferenceError("APIService error: No adapter set");return e&&this.validateAdapter(this._adapter),this._adapter}},{key:"setAdapter",value:function(e){"function"==typeof e&&e.constructor&&(e=new e),this.validateAdapter(e),this._adapter=e}},{key:"validateAdapter",value:function(e){if("object"!==("undefined"==typeof e?"undefined":l(e)))throw new TypeError("Invalid APIRequest adapter: Not an object.");for(var t=e.constructor;t;){if(t===d["default"])return;t=Object.getPrototypeOf(t)}throw new TypeError("Invalid APIRequest adapter: Doesn't inherit from AbstractRequestAdapter.")}},{key:"baseUrl",set:function(e){if("string"!=typeof e)throw new TypeError("baseUrl passed to APIService is not a string");if(0==e.length)throw new TypeError("baseUrl passed to APIService is empty");if(e.indexOf("://")<=0)throw new TypeError("baseUrl is missing protocol");this._baseUrl=e},get:function(){return this._baseUrl}}]),t}(d["default"]);t["default"]=new h},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){n(this,e);var t="AbstractRequestAdapter";if(this.name===t)throw new Error(t+" was not supposed to be instantiated.")}return i(e,[{key:"request",value:function(e,t,n){throw new Error("request() not implemented by "+this.name)}},{key:"get",value:function(e,t){throw new Error("GET not implemented by "+this.name)}},{key:"post",value:function(e,t){throw new Error("POST not implemented by "+this.name)}},{key:"put",value:function(e,t){throw new Error("PUT not implemented by "+this.name)}},{key:"del",value:function(e,t){throw new Error("DEL not implemented by "+this.name)}},{key:"addToQueryString",value:function(e,t){var n=arguments.length<=2||void 0===arguments[2]?!0:arguments[2];if(!e)throw new ReferenceError("URL not passed to addToQueryString()");if("string"!=typeof e)throw new TypeError("URL passed to addToQueryString() is not a string ("+("undefined"==typeof e?"undefined":r(e))+").");if("object"!==("undefined"==typeof t?"undefined":r(t)))throw new TypeError("obj passed to addToQueryString() is not an object ("+("undefined"==typeof e?"undefined":r(e))+").");var i=[];if(null!==t){var o=e.split("?",2);if(o.length>1){e=o[0];for(var u=o[1].split("&"),s=u.length,a=0;s>a;a++){var l=u[a].split("=",2),c=l[0];!n&&t.hasOwnProperty(c)||(t[c]=l[1])}}for(var f in t)t.hasOwnProperty(f)&&i.push(f+"="+encodeURIComponent(t[f]))}var d=e;return i.length&&(d+="?"+i.join("&").replace(/%20/g,"+")),d}},{key:"name",get:function(){return this.constructor.name}}]),e}();t["default"]=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(7),l=r(a),c=n(9),f=function(e){function t(e){return i(this,t),o(this,Object.getPrototypeOf(t).call(this,c.UserExtendedModel,e))}return u(t,e),s(t,[{key:"result",get:function(){return this._result}}]),t}(l["default"]);t["default"]=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(8),l=r(a),c=function(e){function t(e,n){i(this,t);var r=o(this,Object.getPrototypeOf(t).call(this,e,n));return r._assertNotInstanceOfAbstract(t),r._result=new e(n.results),r}return u(t,e),s(t,[{key:"result",get:function(){throw new Error('Accessor "result" not implemented by '+this.className)}}]),t}(l["default"]);t["default"]=c},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t,i){if(n(this,e),this._assertNotInstanceOfAbstract(e),!t)throw new ReferenceError("No modelClass defined by "+this.className);if("function"!=typeof t)throw new ReferenceError("Invalid modelClass defined by "+this.className);if(!i)throw new ReferenceError("No raw defined by "+this.className);if("object"!==("undefined"==typeof i?"undefined":r(i))||"RawResponse"!==i.constructor.name)throw new ReferenceError("Invalid raw defined by "+this.className);this._modelClass=t,this._raw=i}return i(e,[{key:"_assertNotInstanceOfAbstract",value:function(e){if(this.constructor===e)throw new Error(e.name+" is abstract and not supposed to be instantiated")}},{key:"className",get:function(){return this.constructor.name}},{key:"success",get:function(){return this._raw.success}},{key:"statusCode",get:function(){return this._raw.statusCode}},{key:"statusMessage",get:function(){return this._raw.statusMessage}},{key:"headers",get:function(){return this._raw.headers}},{key:"method",get:function(){return this._raw.method}},{key:"uri",get:function(){return this._raw.uri}}]),e}();t["default"]=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.GameExtendedModel=t.GameModel=t.ActivityModel=t.CommentModel=t.UserExtendedModel=t.UserModel=void 0;var i=n(10),o=r(i),u=n(11),s=r(u),a=n(12),l=r(a),c=n(14),f=r(c),d=n(18),h=r(d),y=n(19),p=r(y);t.UserModel=o["default"],t.UserExtendedModel=s["default"],t.CommentModel=l["default"],t.ActivityModel=f["default"],t.GameModel=h["default"],t.GameExtendedModel=p["default"]},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?null:arguments[0];n(this,e),this._id=t&&t.id||0,this._username=t&&t.username||"",this._accountType=t&&t.account_type||"",this._slug=t&&t.slug||"",this._avatar=t&&t.avatar||"",this._cover=t&&t.cover||"",this._url=t&&t.url||"",this._followersCount=t&&t.followers_count||0,this._isFeatured=t&&t.is_featured||!1,this._isVerified=t&&t.is_verified||!1,this._isPartner=t&&t.is_partner||!1,this._isPrivate=t&&t.is_private||!1}return r(e,[{key:"toString",value:function(){var e="[UserModel";return this._id&&(e+=" #"+this._id),this._slug&&(e+=' "'+this._slug+'"'),e+"]"}},{key:"isUser",value:function(){return"user"==this._accountType}},{key:"isGroup",value:function(){return"group"==this._accountType}},{key:"id",get:function(){return this._id}},{key:"username",get:function(){return this._username}},{key:"accountType",get:function(){return this._accountType}},{key:"slug",get:function(){return this._slug}},{key:"avatar",get:function(){return this._avatar}},{key:"cover",get:function(){return this._cover}},{key:"url",get:function(){return this._url}},{key:"followersCount",get:function(){return this._followersCount}},{key:"isFeatured",get:function(){return this._isFeatured}},{key:"isVerified",get:function(){return this._isVerified}},{key:"isPartner",get:function(){return this._isPartner}},{key:"isPrivate",get:function(){return this._isPrivate}}]),e}();t["default"]=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(10),l=r(a),c=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0];i(this,t);var n=function(e){return e?new Date(e):null},r=o(this,Object.getPrototypeOf(t).call(this,e)),u=e&&e.cover||null,s=e&&e.avatar||null;return r._shortDescription=e&&e.short_description||"",r._description=e&&e.description||"",r._descriptionHtml=e&&e.descriptionHtml||"",r._coverOriginal=u&&u.original||"",r._coverCached=u&&u.cached||"",r._coverOriginalFilename=u&&u.original_filename||"",r._avatarOriginal=s&&s.original||"",r._avatarCached=s&&s.cached||"",r._avatarOriginalFilename=s&&s.original_filename||"",r._createdAt=e&&n(e.created_at)||"",r._generatedBy=e&&e.generated_by||null,r._isCurrentUser=e&&e.is_current_user||!1,r._isFollowing=e&&e.is_following||!1,r._isFollowed=e&&e.is_followed||!1,r._isFriend=e&&e.is_friend||!1,r._isBlocked=e&&e.is_blocked||!1,r._canMessage=e&&e.can_message||!1,r._isOnline=e&&e.is_online||!1,r._followingCount=e&&e.following_count||0,r._isConfirmedGroupMember=e&&e.is_confirmed_group_member||!1,r._canConfirmMembership=e&&e.can_confirm_membership||!1,r._canRemoveMembership=e&&e.can_remove_membership||!1,u&&(r._cover=u.cached),s&&(r._avatar=s.cached),r._createdAt=(r._createdAt?new Date(r._createdAt):!1)||null,r}return u(t,e),s(t,[{key:"toString",value:function(){var e="[UserExtendedModel";return this._id&&(e+=" #"+this._id),this._slug&&(e+=' "'+this._slug+'"'),e+"]"}},{key:"shortDescription",get:function(){return this._shortDescription}},{key:"description",get:function(){return this._description}},{key:"descriptionHtml",get:function(){return this._descriptionHtml}},{key:"coverOriginal",get:function(){return this._coverOriginal}},{key:"coverOriginalFilename",get:function(){return this._coverOriginalFilename}},{key:"avatarOriginal",get:function(){return this._avatarOriginal}},{key:"avatarOriginalFilename",get:function(){return this._avatarOriginalFilename}},{key:"createdAt",get:function(){return this._createdAt}},{key:"generatedBy",get:function(){return this._generatedBy}},{key:"isCurrentUser",get:function(){return this._isCurrentUser}},{key:"isFollowing",get:function(){return this._isFollowing}},{key:"isFollowed",get:function(){return this._isFollowed}},{key:"isFriend",get:function(){return this._isFriend}},{key:"isBlocked",get:function(){return this._isBlocked}},{key:"canMessage",get:function(){return this._canMessage}},{key:"isOnline",get:function(){return this._isOnline}},{key:"followingCount",get:function(){return this._followingCount}},{key:"isConfirmedGroupMember",get:function(){return this._isConfirmedGroupMember}},{key:"canConfirmMembership",get:function(){return this._canConfirmMembership}},{key:"canRemoveMembership",get:function(){return this._canRemoveMembership}}]),t}(l["default"]);t["default"]=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(13),s=r(u),a=n(10),l=r(a),c=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?null:arguments[0];i(this,e);var n=function(e){return e?new Date(e):null},r=t&&t.data||null;this._id=t&&t.id||0,this._userId=t&&t.user_id||0,this._activityUserId=t&&t.activity_user_id||0,this._activityId=t&&t.activity_id||0,this._post=r&&r.post||"",this._postRaw=r&&r.post_raw||"",this._metas=t&&t.metas.map(function(e){return new s["default"](e)})||[],this._createdAt=t&&n(t.created_at)||null,this._updatedAt=t&&n(t.updated_at)||null,this._editedAt=t&&n(t.edited_at)||null,this._deletedAt=t&&n(t.deleted_at)||null,this._user=t&&new l["default"](t.user)||null,this._userIsBlocked=t&&t.userIsBlocked||!1,this._hasLiked=t&&t.hasLiked||!1,this._url=t&&t.url||"",this._showDelete=t&&t.showDelete||!1,this._showEdit=t&&t.showEdit||!1,this._isOwnComment=t&&t.isOwnComment||!1,this._likesCount=t&&t.likesCount||0}return o(e,[{key:"toString",value:function(){var e="[ActivityModel";return this._id&&(e+=" #"+this._id),e+"]"}},{key:"like",value:function(){var e=arguments.length<=0||void 0===arguments[0]?!0:arguments[0];e!=this._hasLiked&&(this._hasLiked=e,this._likesCount+=e?1:-1)}},{key:"id",get:function(){return this._id}},{key:"userId",get:function(){return this._userId}},{key:"activityUserId",get:function(){return this._activityUserId}},{key:"activityId",get:function(){return this._activityId}},{key:"post",get:function(){return this._post}},{key:"postRaw",get:function(){return this._postRaw}},{key:"metas",get:function(){return this._metas}},{key:"createdAt",get:function(){return this._createdAt}},{key:"updatedAt",get:function(){return this._updatedAt}},{key:"editedAt",get:function(){return this._editedAt}},{key:"deletedAt",get:function(){return this._deletedAt}},{key:"userIsBlocked",get:function(){return this._userIsBlocked}},{key:"user",get:function(){return this._user}},{key:"hasLiked",get:function(){return this._hasLiked}},{key:"url",get:function(){return this._url}},{key:"showDelete",get:function(){return this._showDelete}},{key:"showEdit",get:function(){return this._showEdit}},{key:"isOwnComment",get:function(){return this._isOwnComment}},{key:"likesCount",get:function(){return this._likesCount}}]),e}();t["default"]=c},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?null:arguments[0];n(this,e),this._images=t&&t.images||[],this._url=t&&t.url||"",this._title=t&&t.title||"",this._description=t&&t.description||"",this._provider=t&&t.provider||"",this._content=t&&t.content||"",this._isInternal=t&&t.isInternal||!1,this._thumbnail=t&&t.thumbnail||""}return r(e,[{key:"isPhoto",value:function(){return"photo"==this._content}},{key:"isVideo",value:function(){return"video"==this._content}},{key:"images",get:function(){return this._images}},{key:"url",get:function(){return this._url}},{key:"title",get:function(){return this._title}},{key:"description",get:function(){return this._description}},{key:"provider",get:function(){return this._provider}},{key:"content",get:function(){return this._content}},{key:"isInternal",get:function(){return this._isInternal}},{key:"thumbnail",get:function(){return this._thumbnail}}]),e}();t["default"]=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(10),s=r(u),a=n(12),l=r(a),c=n(15),f=r(c),d=n(17),h=r(d),y=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?null:arguments[0];i(this,e);var n=function(e){return e?new Date(e):null};this._id=t&&t.id||0,this._resourceId=t&&t.resource_id||0,this._type=t&&t.type||"",this._user=t&&new s["default"](t.user)||null,this._source=t&&t.source||"",this._sourceUrl=t&&t.sourceUrl||"",this._url=t&&t.url||"",this._fullUrl=t&&n(t.full_url)||"",this._publishedAt=t&&n(t.published_at)||null,this._createdAt=t&&n(t.created_at)||null,this._updatedAt=t&&n(t.updated_at)||null,this._editedAt=t&&n(t.edited_at)||null,this._isSubscribed=t&&t.isSubscribed||!1,this._showEdit=t&&t.showEdit||!1,this._showDelete=t&&t.showDelete||!1,this._userIsHidden=t&&t.userIsHidden||!1,this._userIsBlocked=t&&t.userIsBlocked||!1,this._userIsFollowed=t&&t.userIsFollowed||!1,this._isOwnActivity=t&&t.isOwnActivity||!1,this._hasPinned=t&&t.hasPinned||!1,this._pinsCount=t&&t.pinsCount||0,this._hasShared=t&&t.hasShared||!1,this._shareCount=t&&t.shareCount||0,this._commentsCount=t&&t.commentsCount||0,this._fullUrl=t&&t.fullUrl||"",this._hasLiked=t&&t.hasLiked||!1,this._likesCount=t&&t.likesCount||0,this._comments=[],t&&t.comments&&(this._comments=t.comments.map(function(e){return new l["default"](e)})),this._postData=null,this._videoData=null,t&&t.data&&(this.isPost()&&(this._postData=new f["default"](t.data)),this.isVideo()&&(this._videoData=new h["default"](t.data)))}return o(e,[{key:"toString",value:function(){var e="[ActivityModel";return this._id&&(e+=" #"+this._id),e+"]"}},{key:"isVideo",value:function(){return"video"==this._type}},{key:"isPost",value:function(){return"post"==this._type}},{key:"isFromYoutube",value:function(){return"youtube"==this.source}},{key:"isFromTwitch",value:function(){return"twitch"==this.source}},{key:"isFromPlayer",value:function(){return"player"==this.source}},{key:"hasAllComments",value:function(){return this._comments.length>=this._commentsCount}},{key:"_getCommentIndex",value:function(e){for(var t=0;t<this.comments.length;t++)if(this.comments[t].id==e)return t;return-1}},{key:"addComment",value:function(e){if(this.id!=e.activityId)throw"This comment doesn't belong to this activity";this.comments.push(e),this._commentsCount++}},{key:"updateComment",value:function(e){if(!e||!e.id)throw"Invalid comment to update on Activity "+this._id;var t=this._getCommentIndex(e.id);return 0>t?!1:(this.comments[t]=e,!0)}},{key:"removeComment",value:function(e){var t=this._getCommentIndex(e);return 0>t?!1:(this.comments.splice(t,1),!0)}},{key:"addCommentsToStart",value:function(e){if(!Array.isArray(e))throw"Earlier comments to add to Activity "+this._id+" wasn't an array";this._comments=this._comments?e.concat(this._comments):e}},{key:"id",get:function(){return this._id}},{key:"resourceId",get:function(){return this._resourceId}},{key:"type",get:function(){return this._type}},{key:"user",get:function(){return this._user}},{key:"source",get:function(){return this._source}},{key:"sourceUrl",get:function(){return this._sourceUrl}},{key:"url",get:function(){return this._url}},{key:"fullUrl",get:function(){return this._fullUrl}},{key:"publishedAt",get:function(){return this._publishedAt}},{key:"createdAt",get:function(){return this._createdAt}},{key:"updatedAt",get:function(){return this._updatedAt}},{key:"editedAt",get:function(){return this._editedAt}},{key:"isSubscribed",get:function(){return this._isSubscribed}},{key:"showEdit",get:function(){return this._showEdit}},{key:"showDelete",get:function(){return this._showDelete}},{key:"userIsHidden",get:function(){return this._userIsHidden}},{key:"userIsBlocked",get:function(){return this._userIsBlocked}},{key:"userIsFollowed",get:function(){return this._userIsFollowed}},{key:"isOwnActivity",get:function(){return this._isOwnActivity}},{key:"hasLiked",get:function(){return this._hasLiked}},{key:"likesCount",get:function(){return this._likesCount}},{key:"hasPinned",get:function(){return this._hasPinned}},{key:"pinsCount",get:function(){return this._pinsCount}},{key:"hasShared",get:function(){return this._hasShared}},{key:"shareCount",get:function(){return this._shareCount}},{key:"commentsCount",get:function(){return this._commentsCount}},{key:"comments",get:function(){return this._comments}},{key:"post",get:function(){return this._postData}},{key:"video",get:function(){return this._videoData}}]),e}();t["default"]=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.ActivityPostMetaData=t["default"]=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(16),s=r(u),a=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?null:arguments[0];i(this,e);var n=t&&t.game||!1;this._post=t&&t.post||"",this._postRaw=t&&t.post_raw||"",this._metas=t&&t.metas.map(function(e){return new l(e)})||[],this._game=n&&new s["default"](t.game)||null,this._gameCheckInType=n&&n.check_in_type||null}return o(e,[{key:"isPlayingGame",value:function(){return"playing"==this._gameCheckInType}},{key:"post",get:function(){return this._post}},{key:"postRaw",get:function(){return this._postRaw}},{key:"metas",get:function(){return this._metas}},{key:"game",get:function(){return this._game}},{key:"gameCheckInType",get:function(){return this._gameCheckInType}}]),e}(),l=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?null:arguments[0];i(this,e),this._content=t&&t.content||"",this._title=t&&t.title||null,this._description=t&&t.description||null,this._provider=t&&t.provider||"",this._isInternal=t&&t.isInternal||!1,this._images=t&&t.images||[],this._url=t&&t.url||"",this._thumbnail=t&&t.thumbnail||null}return o(e,[{key:"content",get:function(){return this._content}},{key:"title",get:function(){return this._title}},{key:"description",get:function(){return this._description}},{key:"provider",get:function(){return this._provider}},{key:"isInternal",get:function(){return this._isInternal}},{key:"images",get:function(){return this._images}},{key:"url",get:function(){return this._url}},{key:"thumbnail",get:function(){return this._thumbnail}}]),e}();t["default"]=a,t.ActivityPostMetaData=l},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?null:arguments[0];n(this,e);var r=t&&t.cover||null,i=t&&t.box||null;this._id=t&&t.id||0,this._title=t&&t.title||"",this._shortDescription=t&&t.short_description||"",this._coverCached=r&&r.cached||null,this._coverOriginal=r&&r.original||null,this._coverOriginalFilename=r&&r.original_filename||null,this._boxCached=i&&i.cached||null,this._boxOriginal=i&&i.original||null,this._boxOriginalFilename=i&&i.original_filename||null,this._slug=t&&t.slug||"",
this._url=t&&t.url||"",this._likesCount=t&&t.likes_count||0,this._hasLiked=t&&t.has_liked||!1}return r(e,[{key:"toString",value:function(){var e="[GameMetadataModel";return this._id&&(e+=" #"+this._id),this._slug&&(e+=' "'+this._slug+'"'),e+"]"}},{key:"id",get:function(){return this._id}},{key:"title",get:function(){return this._title}},{key:"shortDescription",get:function(){return this._shortDescription}},{key:"cover",get:function(){return this._coverCached}},{key:"coverOriginal",get:function(){return this._coverOriginal}},{key:"coverOriginalFilename",get:function(){return this._coverOriginalFilename}},{key:"box",get:function(){return this._boxCached}},{key:"boxOriginal",get:function(){return this._boxOriginal}},{key:"boxOriginalFilename",get:function(){return this._boxOriginalFilename}},{key:"slug",get:function(){return this._slug}},{key:"url",get:function(){return this._url}},{key:"likesCount",get:function(){return this._likesCount}},{key:"hasLiked",get:function(){return this._hasLiked}}]),e}();t["default"]=i},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?null:arguments[0];n(this,e),this._title=t&&t.title||"",this._description=t&&t.description||"",this._url=t&&t.url||"",this._thumbnail=t&&t.thumbnail||""}return r(e,[{key:"title",get:function(){return this._title}},{key:"description",get:function(){return this._description}},{key:"url",get:function(){return this._url}},{key:"thumbnail",get:function(){return this._thumbnail}}]),e}();t["default"]=i},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?null:arguments[0];n(this,e);var r=t&&t.cover||null,i=t&&t.box||null;this._id=t&&t.id||0,this._title=t&&t.title||"",this._shortDescription=t&&t.short_description||"",this._coverCached=r&&r.cached||null,this._coverOriginal=r&&r.original||null,this._coverOriginalFilename=r&&r.original_filename||null,this._boxCached=i&&i.cached||null,this._boxOriginal=i&&i.original||null,this._boxOriginalFilename=i&&i.original_filename||null,this._slug=t&&t.slug||"",this._url=t&&t.url||"",this._likesCount=t&&t.likes_count||0,this._hasLiked=t&&t.has_liked||!1}return r(e,[{key:"toString",value:function(){var e="[GameModel";return this._id&&(e+=" #"+this._id),this._slug&&(e+=' "'+this._slug+'"'),e+"]"}},{key:"id",get:function(){return this._id}},{key:"title",get:function(){return this._title}},{key:"shortDescription",get:function(){return this._shortDescription}},{key:"cover",get:function(){return this._coverCached}},{key:"coverOriginal",get:function(){return this._coverOriginal}},{key:"coverOriginalFilename",get:function(){return this._coverOriginalFilename}},{key:"box",get:function(){return this._boxCached}},{key:"boxOriginal",get:function(){return this._boxOriginal}},{key:"boxOriginalFilename",get:function(){return this._boxOriginalFilename}},{key:"slug",get:function(){return this._slug}},{key:"url",get:function(){return this._url}},{key:"likesCount",get:function(){return this._likesCount}},{key:"hasLiked",get:function(){return this._hasLiked}}]),e}();t["default"]=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.GameCompany=t.GamePlatform=t["default"]=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(18),l=r(a),c=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0];i(this,t);var n=function(e){return e?new Date(e):null},r=o(this,Object.getPrototypeOf(t).call(this,e));return r._description=e&&e.description||"",r._displaySource=e&&e.display_source||!1,r._releasedAt=e&&n(e.released_at)||null,r._steamId=e&&e.steam_id||0,r._xbox360Id=e&&e.xbox360_id||0,r._xboxoneId=e&&e.xboxone_id||0,r._createdAt=e&&n(e.created_at)||null,r._updatedAt=e&&n(e.updated_at)||null,r._deletedAt=e&&n(e.deleted_at)||null,r._coverBy=e&&e.cover_by||0,r._website=e&&e.website||"",r._facebook=e&&e.facebook||"",r._twitter=e&&e.twitter||"",r._gplus=e&&e.gplus||"",r._steam=e&&e.steam||"",r._twitch=e&&e.twitch||"",r._youtube=e&&e.youtube||"",r._buyLink=e&&e.buy_link||"",r._kickstarter=e&&e.kickstarter||"",r._favouritesCount=e&&e.favourites_count||0,r._aliases=e&&e.alias&&e.alias.split("\n")||[],r._platforms=[],e&&e.platforms&&(r._platforms=e.platforms.map(function(e){return new f(e)})),r._developers=[],e&&e.developers&&(r._developers=e.developers.map(function(e){return new d(e)})),r._publishers=[],e&&e.publishers&&(r._publishers=e.developers.map(function(e){return new d(e)})),r}return u(t,e),s(t,[{key:"toString",value:function(){var e="[GameExtendedModel";return this._id&&(e+=" #"+this._id),this._slug&&(e+=' "'+this._slug+'"'),e+"]"}},{key:"description",get:function(){return this._description}},{key:"displaySource",get:function(){return this._displaySource}},{key:"releasedAt",get:function(){return this._releasedAt}},{key:"steamId",get:function(){return this._steamId}},{key:"xbox360Id",get:function(){return this._xbox360Id}},{key:"xboxoneId",get:function(){return this._xboxoneId}},{key:"createdAt",get:function(){return this._createdAt}},{key:"updatedAt",get:function(){return this._updatedAt}},{key:"deletedAt",get:function(){return this._deletedAt}},{key:"coverBy",get:function(){return this._coverBy}},{key:"aliases",get:function(){return this._aliases}},{key:"website",get:function(){return this._website}},{key:"facebook",get:function(){return this._facebook}},{key:"twitter",get:function(){return this._twitter}},{key:"gplus",get:function(){return this._gplus}},{key:"steam",get:function(){return this._steam}},{key:"twitch",get:function(){return this._twitch}},{key:"youtube",get:function(){return this._youtube}},{key:"buyLink",get:function(){return this._buyLink}},{key:"kickstarter",get:function(){return this._kickstarter}},{key:"platforms",get:function(){return this._platforms}},{key:"favouritesCount",get:function(){return this._favouritesCount}},{key:"developers",get:function(){return this._developers}},{key:"publishers",get:function(){return this._publishers}}]),t}(l["default"]),f=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?null:arguments[0];i(this,e),this._id=t&&t.id||0,this._name=t&&t.name||"",this._order=t&&t.order||"",this._slug=t&&t.slug||"",this._displayName=t&&t.display_name||null}return s(e,[{key:"toString",value:function(){var e="[GamePlatform";return this._id&&(e+=" #"+this._id),this._slug&&(e+=' "'+this._slug+'"'),e+"]"}},{key:"id",get:function(){return this._id}},{key:"name",get:function(){return this._name}},{key:"order",get:function(){return this._order}},{key:"slug",get:function(){return this._slug}},{key:"displayName",get:function(){return this._displayName}}]),e}(),d=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?null:arguments[0];i(this,e);var n=function(e){return e?new Date(e):null};this._id=t&&t.id||0,this._userId=t&&t.user_id||0,this._name=t&&t.name||"",this._description=t&&t.description||"",this._homepage=t&&t.homepage||"",this._slug=t&&t.slug||"",this._createdAt=t&&n(t.created_at)||null,this._updatedAt=t&&n(t.updated_at)||null,this._deletedAt=t&&n(t.deleted_at)||null}return s(e,[{key:"toString",value:function(){var e="[GameCompany";return this._id&&(e+=" #"+this._id),this._slug&&(e+=' "'+this._slug+'"'),e+"]"}},{key:"id",get:function(){return this._id}},{key:"userId",get:function(){return this._userId}},{key:"name",get:function(){return this._name}},{key:"description",get:function(){return this._description}},{key:"homepage",get:function(){return this._homepage}},{key:"slug",get:function(){return this._slug}},{key:"createdAt",get:function(){return this._createdAt}},{key:"updatedAt",get:function(){return this._updatedAt}},{key:"deletedAt",get:function(){return this._deletedAt}}]),e}();t["default"]=c,t["default"]=c,t.GamePlatform=f,t.GameCompany=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(4),a=r(s),l=n(21),c=r(l),f=function(){function e(){i(this,e)}return u(e,[{key:"get",value:function(e){var t="undefined"==typeof e?"undefined":o(e);if("string"===t){if(e=parseInt(e,10),isNaN(e))throw new TypeError("id string passed to UsersRepository:get() is NaN. Was ['"+t+"'].")}else if("number"!==t)throw new TypeError("id passed to UsersRepository:get() isn't a number. Was ["+t+"].");return new Promise(function(t,n){try{var r=a["default"].get("api/v1/users/"+e,null)}catch(i){return void n(i)}r.then(function(e){e.success?t(new c["default"](e)):n(e)})})}},{key:"list",value:function(){}},{key:"listOnline",value:function(){}},{key:"update",value:function(){}}]),e}();t["default"]=new f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(7),l=r(a),c=n(9),f=function(e){function t(e){return i(this,t),o(this,Object.getPrototypeOf(t).call(this,c.UserExtendedModel,e))}return u(t,e),s(t,[{key:"result",get:function(){return this._result}}]),t}(l["default"]);t["default"]=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(5),c=r(l),f=n(23),d=r(f),h=function(e){function t(){i(this,t);var e=o(this,Object.getPrototypeOf(t).call(this));return e._lastCallbackId=0,e._callbackNamespace="playermeJSONP.callbacks",e._callbackContainer=e._setupCallbackContainer(e._callbackNamespace),e}return u(t,e),a(t,[{key:"_setupCallbackContainer",value:function(e){for(var t=e.split("."),n=window,r=0;r<t.length;r++)n=this._createObjectOnParent(n,t[r]);return n}},{key:"_createObjectOnParent",value:function(e,t){return"object"!==s(e[t])&&(e[t]={}),e[t]}},{key:"_generateCallbackRef",value:function(){var e=(this._lastCallbackId+1)%Number.MAX_SAFE_INTEGER;return this._lastCallbackId=e,"jsonp_"+e}},{key:"get",value:function(e,t){var n=this;return new Promise(function(r,i){try{t&&"object"===("undefined"==typeof t?"undefined":s(t))||(t={});var o=n._generateCallbackRef(),u=document.createElement("script"),a=document.getElementsByTagName("head")[0];n._callbackContainer[o]=function(e){try{a.removeChild(u),delete n._callbackContainer[o],r(new d["default"](e))}catch(t){i(t)}},t.callback=n._callbackNamespace+"."+o,u.setAttribute("data-callback",o),u.setAttribute("src",n.addToQueryString(e,t)),a.appendChild(u)}catch(l){i(l)}})}},{key:"post",value:function(){throw new Error("POST method not available for JSONPRequestAdapter")}},{key:"put",value:function(){throw new Error("PUT method not available for JSONPRequestAdapter")}},{key:"del",value:function(){throw new Error("DELETE method not available for JSONPRequestAdapter")}}]),t}(c["default"]);t["default"]=new h},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t,r,i,o){n(this,e),this._body=t,this._results=t&&t.results?t.results:null,this._statusCode=r,this._statusMessage=i,this._headers=o,this._success=Boolean(t&&t.success)}return r(e,[{key:"body",get:function(){return this._body}},{key:"results",get:function(){return this._results}},{key:"success",get:function(){return this._success}},{key:"method",get:function(){return this._body.method}},{key:"uri",get:function(){return this._body.uri}},{key:"statusCode",get:function(){return this._statusCode}},{key:"statusMessage",get:function(){return this._statusMessage}},{key:"headers",get:function(){return this._headers}}]),e}();t["default"]=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=k[e]||[];for(var n in t){var r=t[n];for(var i in r)if("playerme_session"===i||"staging_playerme_session"===i)return i+"="+r[i]}return null}function a(e){var t={},n=e.split("://",2);if(n.length<2)throw new Error("Invalid URL in XHR passed to XMLHttpRequestAdapter's getURLObjectFromXHR ["+e+"]");if(t.protocol=n[0],n=n[1].split("/",2),n.length<2)throw new Error("Invalid URL in XHR passed to XMLHttpRequestAdapter's getURLObjectFromXHR ["+e+"]");return t.host=n[0],n=n[1].split("?",2),t.path=n[0],t.query=n[1],t}function l(e){for(var t={},n=e.getAllResponseHeaders().split("\r\n"),r=0;r<n.length;r++){var i=n[r].split(": ",2);if(2==i.length){var o=i[0].toLowerCase();t[o]=i[1]}}return t}function c(e){try{return new _["default"](JSON.parse(e.responseText),e.status,e.statusText,l(e))}catch(t){return null}}function f(e){return new v["default"](e.responseText,e.status,e.statusText,l(e))}Object.defineProperty(t,"__esModule",{value:!0});var d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=n(5),y=r(h),p=n(23),_=r(p),g=n(25),v=r(g),b=n(26),m=r(b),k=[],w=function(e){function t(){return i(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return u(t,e),d(t,[{key:"request",value:function(e,t){var n=arguments.length<=2||void 0===arguments[2]?null:arguments[2];return new Promise(function(r,i){var o=new XMLHttpRequest,u=a(t);o.addEventListener("load",function(){var e=c(o),t=l(o),n=t["set-cookie"];n&&(k[u.host]=n.map(function(e){return m["default"].parse(e)})),e?r(e):i(f(o))}),o.addEventListener("error",function(e){console.log("XMLHttpRequestAdapter error",e,o),i(e)}),o.addEventListener("timeout",function(e){console.log("XMLHttpRequestAdapter timeout",e,o),i(e)});try{o.open(e,t),o.setRequestHeader("Content-Type","application/json");var d=s(u.host);d&&o.setRequestHeader("Cookie",d),o.send(n?JSON.stringify(n):null)}catch(h){console.log("XMLHttpRequestAdapter exception",h),i(h)}})}},{key:"get",value:function(e,t){return this.request("GET",this.addToQueryString(e,t))}},{key:"post",value:function(e,t){return this.request("POST",e,t)}},{key:"put",value:function(e,t){return this.request("PUT",e,t)}},{key:"del",value:function(e,t){return this.request("DELETE",e,t)}}]),t}(y["default"]);t["default"]=new w},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t,r,i,o){n(this,e),this._text=t,this._statusCode=r,this._statusMessage=i,this._headers=o}return r(e,[{key:"text",get:function(){return this._text}},{key:"method",get:function(){return this._body.method}},{key:"uri",get:function(){return this._body.uri}},{key:"statusCode",get:function(){return this._statusCode}},{key:"statusMessage",get:function(){return this._statusMessage}},{key:"headers",get:function(){return this._headers}}]),e}();t["default"]=i},function(e,t){"use strict";function n(e,t){if("string"!=typeof e)throw new TypeError("argument str must be a string");for(var n={},r=t||{},u=e.split(s),a=r.decode||o,l=0;l<u.length;l++){var c=u[l],f=c.indexOf("=");if(!(0>f)){var d=c.substr(0,f).trim(),h=c.substr(++f,c.length).trim();'"'==h[0]&&(h=h.slice(1,-1)),void 0==n[d]&&(n[d]=i(h,a))}}return n}function r(e,t,n){var r=n||{},i=r.encode||u;if("function"!=typeof i)throw new TypeError("option encode is invalid");if(!a.test(e))throw new TypeError("argument name is invalid");var o=i(t);if(o&&!a.test(o))throw new TypeError("argument val is invalid");var s=e+"="+o;if(null!=r.maxAge){var l=r.maxAge-0;if(isNaN(l))throw new Error("maxAge should be a Number");s+="; Max-Age="+Math.floor(l)}if(r.domain){if(!a.test(r.domain))throw new TypeError("option domain is invalid");s+="; Domain="+r.domain}if(r.path){if(!a.test(r.path))throw new TypeError("option path is invalid");s+="; Path="+r.path}if(r.expires){if("function"!=typeof r.expires.toUTCString)throw new TypeError("option expires is invalid");s+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(s+="; HttpOnly"),r.secure&&(s+="; Secure"),r.sameSite){var c="string"==typeof r.sameSite?r.sameSite.toLowerCase():r.sameSite;switch(c){case!0:s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"strict":s+="; SameSite=Strict";break;default:throw new TypeError("option sameSite is invalid")}}return s}function i(e,t){try{return t(e)}catch(n){return e}}t.parse=n,t.serialize=r;var o=decodeURIComponent,u=encodeURIComponent,s=/; */,a=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=b[e]||[];for(var n in t){var r=t[n];for(var i in r)if("playerme_session"===i||"staging_playerme_session"===i)return i+"="+r[i]}return null}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(5),c=r(l),f=n(23),d=r(f),h=n(28),y=r(h),p=n(29),_=r(p),g=n(26),v=r(g),b=[],m=function(e){function t(){return i(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return u(t,e),a(t,[{key:"request",value:function(e,t,n){var r=y["default"].parse(t),i=n?JSON.stringify(n):"",o={method:e,host:r.hostname,port:r.port,path:r.path,headers:{"Content-Type":"application/json","Content-Length":Buffer.byteLength(i)}},u=s(r.hostname);return u&&(o.headers.Cookie=u),new Promise(function(e,t){var n=_["default"].request(o,function(n){var i="";n.on("data",function(e){i+=e}),n.on("end",function(){try{var o=n.headers["set-cookie"];o&&(b[r.hostname]=o.map(function(e){return v["default"].parse(e)})),e(new d["default"](JSON.parse(i),n.statusCode,n.statusMessage,n.headers))}catch(u){return t(i)}})});n.on("error",function(e){t(e)}),i&&n.write(i),n.end()})}},{key:"get",value:function(e,t){return t&&(e=this.addToQueryString(e,t)),this.request("GET",e,null)}},{key:"post",value:function(e,t){return this.request("POST",e,t)}},{key:"put",value:function(e,t){return this.request("PUT",e,t)}},{key:"del",value:function(e,t){return t&&(e=this.addToQueryString(e,t)),this.request("DELETE",e,null)}}]),t}(c["default"]);t["default"]=m},function(e,t){e.exports=require("url")},function(e,t){e.exports=require("https")}]);